<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="author" content="Ibrahim Zada">

	<title>Watch Screen</title>

	<meta property="og:title" content="Watch Screen">
	<meta property="og:image" content="/assets/img/og.png">
	<meta property="og:description" name="description" content="A responsive browser-based analog watch screensaver with a classic design and dynamic day display. Ideal for desktop or fullscreen use.">

	<link rel="icon" type="image/png" href="/assets/img/icon.png">
	<link rel="apple-touch-icon" type="image/png" href="/assets/img/icon.png">

	<meta name="theme-color" content="#000000">

	<style>
		html, body {
			margin: 0;
			padding: 0;
			background: #013220;
			overflow: hidden;
			height: 100%;
		}
		canvas {
			display: block;
		}
	</style>

	<script async src="https://www.googletagmanager.com/gtag/js?id=G-ELNWZ69M11"></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		function gtag(){dataLayer.push(arguments);}
		gtag('js', new Date());
		gtag('config', 'G-ELNWZ69M11');
	</script>
</head>
<body>

	<canvas id="clockCanvas"></canvas>

	<script>
		const canvas = document.getElementById('clockCanvas');
		const ctx = canvas.getContext('2d');

		const logo = new Image();
		logo.src = './assets/img/logo.png';

		function resizeCanvas() {
			canvas.width = window.innerWidth;
			canvas.height = window.innerHeight;
		}
		window.addEventListener('resize', resizeCanvas);
		resizeCanvas();

		function drawHand(cx, cy, angle, length, width, color) {
			ctx.beginPath();
			ctx.lineWidth = width;
			ctx.lineCap = "round";
			ctx.strokeStyle = color;
			ctx.moveTo(cx, cy);
			ctx.lineTo(cx + length * Math.cos(angle - Math.PI / 2),
				cy + length * Math.sin(angle - Math.PI / 2));
			ctx.stroke();
		}

		function drawClock() {
			const now = new Date();
			const width = canvas.width;
			const height = canvas.height;
			const radius = Math.min(width, height) / 3.5;
			const cx = width / 2;
			const cy = height / 2;

			ctx.clearRect(0, 0, width, height);

  // Outer Silver Frame
  ctx.beginPath();
  ctx.arc(cx, cy, radius, 0, Math.PI * 2);
  ctx.fillStyle = '#C0C0C0';
  ctx.fill();

  // Beige Inner Face
  ctx.beginPath();
  ctx.arc(cx, cy, radius * 0.95, 0, Math.PI * 2);
  ctx.fillStyle = '#f5f5dc';
  ctx.fill();

  // Logo
  const logoWidth = radius * 0.22;
  const logoX = cx - logoWidth / 2;
  const logoDistanceFromCenter = radius * 0.43;
  const logoY = cy - logoDistanceFromCenter;

  if (logo.complete && logo.naturalWidth && logo.naturalHeight) {
  	const aspectRatio = logo.naturalHeight / logo.naturalWidth;
  	const logoHeight = logoWidth * aspectRatio;
  	ctx.drawImage(logo, logoX, logoY, logoWidth, logoHeight);
  } else {
  	logo.onload = () => {
  		const aspectRatio = logo.naturalHeight / logo.naturalWidth;
  		const logoHeight = logoWidth * aspectRatio;
  		ctx.drawImage(logo, logoX, logoY, logoWidth, logoHeight);
  	};
  }

  // Day Number Box
  const dayNumber = now.getDate();
  const boxWidth = radius * 0.26;
  const boxHeight = radius * 0.14;
  const boxX = cx + radius * 0.4;
  const boxY = cy + radius * 0.4;

  ctx.fillStyle = '#C0C0C0';
  ctx.fillRect(boxX - boxWidth / 2, boxY - boxHeight / 2, boxWidth, boxHeight);

  ctx.fillStyle = '#000';
  ctx.font = `${radius * 0.11}px Arial`;
  ctx.textAlign = 'center';
  ctx.textBaseline = 'middle';
  ctx.fillText(dayNumber, boxX, boxY);

  // Hour Marks & Numbers
  ctx.strokeStyle = '#000';
  ctx.lineWidth = radius * 0.012;
  ctx.fillStyle = '#000';

  for (let i = 1; i <= 12; i++) {
  	const angle = (i - 3) * Math.PI / 6;
  	const x1 = cx + radius * 0.85 * Math.cos(angle);
  	const y1 = cy + radius * 0.85 * Math.sin(angle);
  	const x2 = cx + radius * 0.75 * Math.cos(angle);
  	const y2 = cy + radius * 0.75 * Math.sin(angle);
  	ctx.beginPath();
  	ctx.moveTo(x1, y1);
  	ctx.lineTo(x2, y2);
  	ctx.stroke();

  	if ([3, 6, 9, 12].includes(i)) {
  		const label = i === 12 ? '12' : i.toString();
  		const nx = cx + radius * 0.65 * Math.cos(angle);
  		let ny = cy + radius * 0.65 * Math.sin(angle) + radius * 0.03;
  		if (i === 6) ny -= radius * 0.06;
  		if (i === 3 || i === 9) ny -= radius * 0.06;
  		ctx.font = `${radius * 0.25}px Georgia, serif`;
  		ctx.fillText(label, nx, ny);
  	}
  }

  // Hands
  const sec = now.getSeconds();
  const min = now.getMinutes();
  const hr = now.getHours() % 12;

  drawHand(cx, cy, (hr + min / 60) * Math.PI / 6, radius * 0.5, radius * 0.04, '#000');
  drawHand(cx, cy, (min + sec / 60) * Math.PI / 30, radius * 0.7, radius * 0.03, '#000');
  drawHand(cx, cy, sec * Math.PI / 30, radius * 0.85, radius * 0.01, 'red');

  // Center Dot
  ctx.beginPath();
  ctx.arc(cx, cy, radius * 0.03, 0, Math.PI * 2);
  ctx.fillStyle = '#000';
  ctx.fill();

  requestAnimationFrame(drawClock);
}

drawClock();
</script>

</body>
</html>
